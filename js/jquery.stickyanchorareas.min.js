"use strict";(function(e){e.stickyAnchorArea=function(t,n){var r={},i=this;i.settings={};var s=e(t),t=t;i.init=function(){function p(){var n=Math.ceil(e(window).scrollTop()),r=u.parent(".stickyParent"),o=Math.ceil(u.parent(".stickyParent").offset().top),a=s.outerHeight(),l=r.width(),p="0",d=e(window).width(),v=e(window).height();if(i.settings.scrollFrom){var p=Math.ceil(e(c).outerHeight()),m=n+p}if(i.settings.scrollUntil){if(i.settings.scrollFrom&&p<=v){var g=Math.ceil(e(h).offset().top)-p,y=g-o+(p-a)}else{var g=Math.ceil(e(h).offset().top),y=g-o-a}}if(i.settings.stickyFromWidth&&i.settings.stickyFromHeight&&d>=i.settings.stickyFromWidth&&v>=i.settings.stickyFromHeight||d>=i.settings.stickyFromWidth&&!i.settings.stickyFromHeight||v>=i.settings.stickyFromHeight&&!i.settings.stickyFromWidth||!i.settings.stickyFromWidth&&!i.settings.stickyFromHeight){if(!r.hasClass("child-to-tall")){r.css({position:"relative",height:a,"z-index":f})}if(a>=v){var b=u.offset().top;r.addClass("child-to-tall");u.addClass("to-tall")}if(a>=v&&u.css("position")=="fixed"){var b=u.offset().top;r.css("position","static").addClass("child-to-tall");u.css({position:"absolute",top:b,height:"auto",width:l}).addClass("to-tall")}else if(n<=r.offset().top&&a>=v){u.unFixedPosition();if(u.hasClass("child-to-tall")){u.removeClass("child-to-tall")}}else if(n<=u.offset().top&&a>=v&&u.css("position")=="absolute"){u.css({position:"absolute",top:n}).addClass("to-tall")}else if(a>=v&&u.css("position")=="absolute"&&u.hasClass("to-tall")){u.css({height:"auto",width:l})}else if(a<v){if(r.hasClass("child-to-tall")){r.removeClass("child-to-tall")}if(u.hasClass("to-tall")){u.removeClass("to-tall")}}if(!u.hasClass("to-tall")){if(n>o||o==0){e(t).fixedPosition(p,l)}if(i.settings.scrollFrom){if(p<=v){if(o<=m){u.fixedPosition(p,l)}if(o>m){u.unFixedPosition()}}else if(n>o){u.fixedPosition(0,l)}}if(n<o&&o!=0&&(!i.settings.scrollFrom||!i.settings.scrollFrom)){u.unFixedPosition()}else if(n<o&&p>=v){u.unFixedPosition()}if(i.settings.scrollUntil){if(n>=g-a){u.css({position:"absolute",top:y})}if(n>=g){u.unFixedPosition()}}}}else{u.unFixedPosition();if(r.hasClass("child-to-tall")){r.removeClass("child-to-tall")}if(u.hasClass("to-tall")){u.removeClass("to-tall")}}}function g(t){if(e(t).isAfter(u)){var n=t.replace("#","");if(e.inArray(n,m)==-1){e(t).before('<div class="relativeAnchorDiv" id="'+n+'" style="position:relative;top:-'+v+'px;z-index:-99;height:0;overflow:hidden;">');m.push(n)}}}i.settings=e.extend({},r,n);e('<div id="canBrowserhandleFixedPosition" style="position:fixed;width:0;height:0;overflow:hidden;top:100px;"></div>').prependTo("body");var o=e("#canBrowserhandleFixedPosition").offset().top;if(o>=100){o=true}else{o=false}e("#canBrowserhandleFixedPosition").remove();var u=s,a=s.outerHeight(),f=s.css("z-index"),l=window.location.hash;if(i.settings.scrollFrom){var c=i.settings.scrollFrom}if(i.settings.scrollUntil){var h=i.settings.scrollUntil}e.fn.fixedPosition=function(e,t){this.css({position:"fixed",top:e,height:"auto",width:t})};e.fn.unFixedPosition=function(){this.removeAttr("style")};u.wrap('<div class="stickyParent"></div>');e(window).on("ready resize scroll",function(){p()});e.fn.isAfter=function(t){if(typeof t=="string")t=e(t);return this.add(t).index(t)==0};if(i.settings.scrollFrom){var d=e(c).outerHeight();if(d>e(window).height){var v=0}else{var v=a+e(c).outerHeight()}}else{var v=a}var m=[];if(o==true){g(l);e("a[href*=#]:not([href=#])").each(function(){var t=e(this).prop("hash");e(t).each(function(){g(t)})})}};i.init()};e.fn.stickyAnchorArea=function(t){return this.each(function(){if(undefined==e(this).data("stickyAnchorArea")){var n=new e.stickyAnchorArea(this,t);e(this).data("stickyAnchorArea",n)}})}})(jQuery)